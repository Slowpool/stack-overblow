@using Humanizer
@using StackOverblowApp.Models.Users
@model UserProfileModel

@{
    ViewBag.Title = $"User - {Model.Nickname}";
}

<div>
    <div class="picture inline">
        <img src="https://www.gravatar.com/avatar/5011cf6d98e276b1bdc2cb321546e528?s=256&d=identicon&r=PG" class="profile-avatar" alt="Picture failed">
    </div>
    <div class="profile-main-info inline">
        <h3>@Model.Nickname</h3>
        @if (Model.Description?.Length < 40)
        {
            <h5>@Model.Description</h5>
        }
        <div>
            <div class="inline">
                <svg width="18" height="18">
                    <path d="M9 4.5a1.5 1.5 0 0 0 1.28-2.27L9 0 7.72 2.23q-.22.33-.22.77c0 .83.68 1.5 1.5 1.5m3.45 7.5-.8-.81-.81.8c-.98.98-2.69.98-3.67 0l-.8-.8-.82.8c-.49.49-1.14.76-1.83.76-.55 0-1.3-.17-1.72-.46V15c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2v-2.7c-.42.28-1.17.45-1.72.45-.69 0-1.34-.27-1.83-.76M13.75 7H10V5H8v2H4.25C3 7 2 8 2 9.25v.9c0 .81.91 1.47 1.72 1.47.39 0 .77-.14 1.03-.42l1.61-1.6 1.6 1.6a1.5 1.5 0 0 0 2.08 0l1.6-1.6 1.6 1.6q.43.43 1.03.43c.81 0 1.73-.67 1.73-1.48v-.9C16 8.01 15 7 13.75 7"></path>
                </svg>
                Member for @(Model.MemberYearsCount > 0 ? $"{Model.MemberYearsCount} years, " : "") @(Model.MemberMonthsCount > 0 ? $"{Model.MemberMonthsCount} months" : Model.MemberYearsCount > 0 ? "" : "a couple of days")
            </div>
            <div class="inline">
                <svg width="18" height="18" viewBox="0 0 18 18">
                    <path d="M9 17c-4.36 0-8-3.64-8-8s3.64-8 8-8 8 3.64 8 8-3.64 8-8 8m0-2c3.27 0 6-2.73 6-6s-2.73-6-6-6-6 2.73-6 6 2.73 6 6 6M8 5h1.01L9 9.36l3.22 2.1-.6.93L8 10z"></path>
                </svg>
                Last seen @Model.LastSeen.Humanize()
            </div>
        </div>
        @if (Model.Link != null || Model.Country != null)
        {
            <div>
                @if (Model.Link != null)
                {
                    <a href={Model.Link}>@Model.Link</a>
                }
                @if (Model.Country != null)
                {
                    <div class="inline">
                        <svg width="18" height="18">
                            <path d="M2 6.38C2 9.91 8.1 17.7 8.1 17.7c.22.29.58.29.8 0 0 0 6.1-7.8 6.1-11.32A6.44 6.44 0 0 0 8.5 0 6.44 6.44 0 0 0 2 6.38m9.25.12a2.75 2.75 0 1 1-5.5 0 2.75 2.75 0 0 1 5.5 0"></path>
                        </svg>
                        @Model.Country
                    </div>
                }
            </div>
        }
    </div>
</div>
